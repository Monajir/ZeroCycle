@model SmartWaste.Web.Models.AddReadingVm
@{
	ViewData["Title"] = "Add Reading";
	Layout = "~/Views/Shared/_LayoutApp.cshtml";
}

<div class="card-soft p-3" style="max-width:650px;">
	<div style="font-weight:900; font-size:18px;">Add Bin Reading</div>
	<div style="color:#64748b;">This will automatically update the bin status.</div>

	<form method="post" class="mt-3">
		@Html.AntiForgeryToken()

		<div class="mb-3">
			<label class="form-label" style="font-weight:700;">Bin</label>
			<select class="form-select" asp-for="BinId">
				<option value="">-- Select Bin --</option>
				@foreach (var b in Model.Bins)
				{
					<option value="@b.Value" selected="@(Model.BinId.ToString()==b.Value ? "selected" : null)">@b.Text</option>
				}
			</select>
			<span asp-validation-for="BinId" class="text-danger"></span>
		</div>

		<div class="mb-3">
			<label class="form-label" style="font-weight:700;">Fill Level (%)</label>
			<input class="form-control" asp-for="FillLevelPercent" placeholder="0-100" />
			<span asp-validation-for="FillLevelPercent" class="text-danger"></span>
			<div style="color:#64748b; font-size:13px;">70+ = NeedsPickup, 95+ = Overflowing</div>
		</div>

		<div class="mb-3">
			<label class="form-label" style="font-weight:700;">Temperature (optional)</label>
			<input class="form-control" asp-for="Temperature" placeholder="e.g. 32.5" />
		</div>

		<div class="mb-3">
			<label class="form-label" style="font-weight:700;">Reading Time (optional)</label>
			<input class="form-control" asp-for="ReadingTime" type="datetime-local" />
			<div style="color:#64748b; font-size:13px;">Leave empty to use current time.</div>
		</div>

		<div class="d-flex gap-2">
			<button class="btn btn-primary btn-soft" type="submit"><i class="bi bi-save"></i> Save</button>
			<a class="btn btn-outline-secondary btn-soft" href="/Operator/Bins">Cancel</a>
		</div>
	</form>
</div>

@section Scripts {
	<partial name="_ValidationScriptsPartial" />
}

